# Rubyのデバッグ技法

## ターミナル出力

- `puts` メソッド
  - 出力後改行あり
    - 配列は要素毎に改行
  - 内部メソッド： to_s
  - 戻り値： nil
- `p` メソッド
  - 出力後改行あり
    - 配列は改行しない
  - 内部メソッド： inspect
  - 戻り値： 引数のオブジェクト


## メソッドチェーンのデバッグ

- `tap` メソッド
  - メソッドチェーンの途中に挟み込んで、特定のメソッドの戻り値を出力する

```ruby
# デバッグしたいメソッドチェーン
'#043c78'.scan(/\w\w/).map(&:hex)
# => [4, 60, 120]

# tapを挟み込んで、scanの戻り値を表示する
'#043c78'.scan(/\w\w/).tap { |rgb| p rgb }.map(&:hex)
# ["04", "3c", "78"]  ← tapの出力
# => [4, 60, 120]     ← 全体の実行結果
```


## ログ出力

- デバッグであることが分かるように出力を工夫する

```ruby
# Railsでのログ出力の例
logger.debug "[DEBUG] info.name: #{info.name}"
```


## デバッガ

- Byebug
  - `gem install byebug`
- IDEのデバッグ機能
